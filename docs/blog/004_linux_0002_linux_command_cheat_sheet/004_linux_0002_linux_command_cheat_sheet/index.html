<!doctype html>
<html lang="en-us">
  <head>
    <title>Linux command cheat sheet // Amr ElHusseiny&#39;s Blog</title>
    <link rel="shortcut icon" href="favicon.ico" />
    <meta charset="utf-8" />
    <meta name="generator" content="Hugo 0.107.0">
    <meta name="viewport" content="width=device-width, initial-scale=1" />
    <meta name="author" content="Amr ElHusseiny" />
    <meta name="description" content="" />
    <link rel="stylesheet" href="/css/main.min.0d8581c62a3b1564c0797bc2c18ec175a6f3ac9e7ae5459ca8a1f19196358f8f.css" />

    
    <meta name="twitter:card" content="summary"/>
<meta name="twitter:title" content="Linux command cheat sheet"/>
<meta name="twitter:description" content="Table Of Contents Navigation System configuration and stats Boot Interrupts Memory Network ethtool (NIC Info) Navigation Command $ tree DIRECTORY Description show the directory and subdirectorys and file in a tree format Output Sample # tree /sys/kernel/mm/hugepages /sys/kernel/mm/hugepages └── hugepages-2048kB ├── free_hugepages ├── nr_hugepages ├── nr_hugepages_mempolicy ├── nr_overcommit_hugepages ├── resv_hugepages └── surplus_hugepages 1 directory, 6 files System configuration and stats Boot Command $ systemd-analyze blame Description check how much time each services took at bootup of kernel to start Output Sample # systemd-analyze blame 47."/>

    <meta property="og:title" content="Linux command cheat sheet" />
<meta property="og:description" content="Table Of Contents Navigation System configuration and stats Boot Interrupts Memory Network ethtool (NIC Info) Navigation Command $ tree DIRECTORY Description show the directory and subdirectorys and file in a tree format Output Sample # tree /sys/kernel/mm/hugepages /sys/kernel/mm/hugepages └── hugepages-2048kB ├── free_hugepages ├── nr_hugepages ├── nr_hugepages_mempolicy ├── nr_overcommit_hugepages ├── resv_hugepages └── surplus_hugepages 1 directory, 6 files System configuration and stats Boot Command $ systemd-analyze blame Description check how much time each services took at bootup of kernel to start Output Sample # systemd-analyze blame 47." />
<meta property="og:type" content="article" />
<meta property="og:url" content="https://amrelhusseiny.github.io/blog/004_linux_0002_linux_command_cheat_sheet/004_linux_0002_linux_command_cheat_sheet/" /><meta property="article:section" content="blog" />
<meta property="article:published_time" content="2023-01-01T13:50:32+02:00" />
<meta property="article:modified_time" content="2023-01-01T13:50:32+02:00" />



  </head>
  <body>
    <header class="app-header">
      <a href="https://amrelhusseiny.github.io/"><img class="app-header-avatar" src="/amr_photo.jpeg" alt="Amr ElHusseiny" /></a>
      <span class="app-header-title">Amr ElHusseiny&#39;s Blog</span>
      <nav class="app-header-menu">
          <a class="app-header-menu-item" href="/about">About</a>
            <br>
          
          <a class="app-header-menu-item" href="/blog">Blog</a>
      </nav>
      <p>Network engineer and Automation advocate</p>
      <div class="app-header-social">
        
          <a href="https://github.com/amrelhusseiny" target="_blank" rel="noreferrer noopener me">
            <svg viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="icon icon-github">
  <title>amrelhusseiny Github</title>
  <path d="M9 19c-5 1.5-5-2.5-7-3m14 6v-3.87a3.37 3.37 0 0 0-.94-2.61c3.14-.35 6.44-1.54 6.44-7A5.44 5.44 0 0 0 20 4.77 5.07 5.07 0 0 0 19.91 1S18.73.65 16 2.48a13.38 13.38 0 0 0-7 0C6.27.65 5.09 1 5.09 1A5.07 5.07 0 0 0 5 4.77a5.44 5.44 0 0 0-1.5 3.78c0 5.42 3.3 6.61 6.44 7A3.37 3.37 0 0 0 9 18.13V22"></path>
</svg>
          </a>
        
          <a href="https://www.linkedin.com/in/amr-abd-el-halim-2a330456" target="_blank" rel="noreferrer noopener me">
            <svg viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="icon icon-linkedin">
  <title>amrelhusseiny linkedin</title>
  <path d="M16 8a6 6 0 0 1 6 6v7h-4v-7a2 2 0 0 0-2-2 2 2 0 0 0-2 2v7h-4v-7a6 6 0 0 1 6-6z"></path><rect x="2" y="9" width="4" height="12"></rect><circle cx="4" cy="4" r="2"></circle>
</svg>
          </a>
        
      </div>
    </header>
    <main class="app-container">
      
  <article class="post">
    <header class="post-header">
      <h1 class ="post-title">Linux command cheat sheet</h1>
      <div class="post-meta">
        <div>
          <svg viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="icon icon-calendar">
  <title>calendar</title>
  <rect x="3" y="4" width="18" height="18" rx="2" ry="2"></rect><line x1="16" y1="2" x2="16" y2="6"></line><line x1="8" y1="2" x2="8" y2="6"></line><line x1="3" y1="10" x2="21" y2="10"></line>
</svg>
          Jan 1, 2023
        </div>
        <div>
          <svg viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="icon icon-clock">
  <title>clock</title>
  <circle cx="12" cy="12" r="10"></circle><polyline points="12 6 12 12 16 14"></polyline>
</svg>
          6 min read
        </div>
      </div>
    </header>
    <div class="post-content">
      <div>
    <h2>Table Of Contents</h2>
    <nav id="TableOfContents">
  <ul>
    <li><a href="#navigation">Navigation</a></li>
    <li><a href="#system-configuration-and-stats">System configuration and stats</a>
      <ul>
        <li><a href="#boot">Boot</a></li>
        <li><a href="#interrupts">Interrupts</a></li>
        <li><a href="#memory">Memory</a></li>
      </ul>
    </li>
    <li><a href="#network">Network</a>
      <ul>
        <li><a href="#ethtool-nic-info">ethtool (NIC Info)</a></li>
      </ul>
    </li>
  </ul>
</nav>
</div>
<h2 id="navigation">Navigation</h2>
<!-- raw HTML omitted -->
<table>
<thead>
<tr>
<th></th>
<th></th>
</tr>
</thead>
<tbody>
<tr>
<td><strong>Command</strong></td>
<td><code>$ tree DIRECTORY</code></td>
</tr>
<tr>
<td><strong>Description</strong></td>
<td>show the directory and subdirectorys and file in a tree format</td>
</tr>
<tr>
<td><strong>Output Sample</strong></td>
<td></td>
</tr>
</tbody>
</table>
<pre tabindex="0"><code># tree /sys/kernel/mm/hugepages
/sys/kernel/mm/hugepages
└── hugepages-2048kB
    ├── free_hugepages
    ├── nr_hugepages
    ├── nr_hugepages_mempolicy
    ├── nr_overcommit_hugepages
    ├── resv_hugepages
    └── surplus_hugepages

1 directory, 6 files
</code></pre><!-- raw HTML omitted -->
<h2 id="system-configuration-and-stats">System configuration and stats</h2>
<h3 id="boot">Boot</h3>
<!-- raw HTML omitted -->
<table>
<thead>
<tr>
<th></th>
<th></th>
</tr>
</thead>
<tbody>
<tr>
<td><strong>Command</strong></td>
<td><code>$ systemd-analyze blame</code></td>
</tr>
<tr>
<td><strong>Description</strong></td>
<td>check how much time each services took at bootup of kernel to start</td>
</tr>
<tr>
<td><strong>Output Sample</strong></td>
<td></td>
</tr>
</tbody>
</table>
<pre tabindex="0"><code># systemd-analyze blame
         47.630s openstack-nova-compute.service
         30.677s httpd.service
         17.821s neutron-server.service
         12.669s openstack-nova-conductor.service
         12.617s rabbitmq-server.service
         12.093s openstack-nova-scheduler.service
          8.956s dnf-makecache.service
          6.145s neutron-destroy-patch-ports.service
          6.142s neutron-ovs-cleanup.service
</code></pre><!-- raw HTML omitted -->
<h3 id="interrupts">Interrupts</h3>
<!-- raw HTML omitted -->
<table>
<thead>
<tr>
<th></th>
<th></th>
</tr>
</thead>
<tbody>
<tr>
<td><strong>Command</strong></td>
<td><code>$ cat /proc/interrupts </code></td>
</tr>
<tr>
<td><strong>Description</strong></td>
<td>Shows the interrupts (Hardware and Software interrupts) counters and per CPU</td>
</tr>
<tr>
<td><strong>Output Sample</strong></td>
<td></td>
</tr>
</tbody>
</table>
<pre tabindex="0"><code># cat /proc/interrupts
           CPU0       CPU1       CPU2       CPU3       CPU4           
  0:         28          0          0          0          0  IO-APIC   2-edge      timer
  1:          0          0          0          0          0  IO-APIC   1-edge      i8042
  8:          0          0          0          0          0  IO-APIC   8-edge      rtc0
  9:          0          0          0          0          0  IO-APIC   9-fasteoi   acpi
 12:          0          0          0          0          0  IO-APIC  12-edge      i8042
 14:          0          0          0          0          0  IO-APIC  14-edge      ata_piix
 15:          0          0          0          0          0  IO-APIC  15-edge      ata_piix
</code></pre><!-- raw HTML omitted -->
<!-- raw HTML omitted -->
<table>
<thead>
<tr>
<th></th>
<th></th>
</tr>
</thead>
<tbody>
<tr>
<td><strong>Command</strong></td>
<td><code>$ cat /proc/net/softnet_stat </code></td>
</tr>
<tr>
<td><strong>Description</strong></td>
<td>Shows a number of software counters per CPU (cpu per row) , the counters depends on the Linux kernel version, most important ones are Column 0 (Number of packets processed by CPU in Hex), Column 1 (Number of packets dropped per CPU), Column 3 (Number of time_squeezed events - times that Software Buffer ran out of CPU time before processing all the packets stored int the buffer), Column (CPU Core number), other column names can be checked by checking you Kernel version, dowloading the uncompiled kernel, then go to /net/core/net-procfs.c, then search for function <em>dev_seq_printf_stats</em></td>
</tr>
<tr>
<td><strong>Output Sample</strong></td>
<td></td>
</tr>
</tbody>
</table>
<pre tabindex="0"><code># cat /proc/net/softnet_stat 
#   0        1       2        3        4         5       6        7        8        9        10       11       12
0058bf1e 00000000 00000001 00000000 00000000 00000000 00000000 00000000 00000000 00000000 00000000 00000000 00000000
003b9080 00000000 00000001 00000000 00000000 00000000 00000000 00000000 00000000 00000000 00000000 00000000 00000001
0032fb17 00000000 00000000 00000000 00000000 00000000 00000000 00000000 00000000 00000000 00000000 00000000 00000002
003d3a83 00000000 00000000 00000000 00000000 00000000 00000000 00000000 00000000 00000000 00000000 00000000 00000003
00307c90 00000000 00000001 00000000 00000000 00000000 00000000 00000000 00000000 00000000 00000000 00000000 00000004
0030a97e 00000000 00000000 00000000 00000000 00000000 00000000 00000000 00000000 00000000 00000000 00000000 00000005
0030b500 00000000 00000000 00000000 00000000 00000000 00000000 00000000 00000000 00000000 00000000 00000000 00000006
002e48b4 00000000 00000000 00000000 00000000 00000000 00000000 00000000 00000000 00000000 00000000 00000000 00000007
002bb413 00000000 00000000 00000000 00000000 00000000 00000000 00000000 00000000 00000000 00000000 00000000 00000008
002bb5d1 00000000 00000000 00000000 00000000 00000000 00000000 00000000 00000000 00000000 00000000 00000000 00000009
00296648 00000000 00000000 00000000 00000000 00000000 00000000 00000000 00000000 00000000 00000000 00000000 0000000a
00270bac 00000000 00000000 00000000 00000000 00000000 00000000 00000000 00000000 00000000 00000000 00000000 0000000b
00293904 00000000 00000000 00000000 00000000 00000000 00000000 00000000 00000000 00000000 00000000 00000000 0000000c
0027e4d5 00000000 00000000 00000000 00000000 00000000 00000000 00000000 00000000 00000000 00000000 00000000 0000000d
002a36d7 00000000 00000000 00000000 00000000 00000000 00000000 00000000 00000000 00000000 00000000 00000000 0000000e
0026f875 00000000 00000000 00000000 00000000 00000000 00000000 00000000 00000000 00000000 00000000 00000000 0000000f
001ccd60 00000000 00000000 00000000 00000000 00000000 00000000 00000000 00000000 00000000 00000000 00000000 00000010
001ca53e 00000000 00000000 00000000 00000000 00000000 00000000 00000000 00000000 00000000 00000000 00000000 00000011
001d9fb5 00000000 00000000 00000000 00000000 00000000 00000000 00000000 00000000 00000000 00000000 00000000 00000012
001c2e36 00000000 00000000 00000000 00000000 00000000 00000000 00000000 00000000 00000000 00000000 00000000 00000013
001bd153 00000000 00000000 00000000 00000000 00000000 00000000 00000000 00000000 00000000 00000000 00000000 00000014
001abac2 00000000 00000000 00000000 00000000 00000000 00000000 00000000 00000000 00000000 00000000 00000000 00000015
0019cbcc 00000000 00000000 00000000 00000000 00000000 00000000 00000000 00000000 00000000 00000000 00000000 00000016
001581a4 00000000 00000000 00000000 00000000 00000000 00000000 00000000 00000000 00000000 00000000 00000000 00000017
001370d7 00000000 00000000 00000000 00000000 00000000 00000000 00000000 00000000 00000000 00000000 00000000 00000018
00189299 00000000 00000000 00000000 00000000 00000000 00000000 00000000 00000000 00000000 00000000 00000000 00000019
001e1188 00000000 00000000 00000000 00000000 00000000 00000000 00000000 00000000 00000000 00000000 00000000 0000001a
001756f6 00000000 00000000 00000000 00000000 00000000 00000000 00000000 00000000 00000000 00000000 00000000 0000001b
0014cb66 00000000 00000000 00000000 00000000 00000000 00000000 00000000 00000000 00000000 00000000 00000000 0000001c
0012a1ac 00000000 00000000 00000000 00000000 00000000 00000000 00000000 00000000 00000000 00000000 00000000 0000001d

# Column names : Uncompiled Kernel - /net/core/net-procfs.c - Function dev_seq_printf_stats
static void dev_seq_printf_stats(struct seq_file *seq, struct net_device *dev)
{
    struct rtnl_link_stats64 temp;
    const struct rtnl_link_stats64 *stats = dev_get_stats(dev, &amp;temp);

    seq_printf(seq, &#34;%6s: %7llu %7llu %4llu %4llu %4llu %5llu %10llu %9llu &#34;
           &#34;%8llu %7llu %4llu %4llu %4llu %5llu %7llu %10llu\n&#34;,
           dev-&gt;name, stats-&gt;rx_bytes, stats-&gt;rx_packets,       
           stats-&gt;rx_errors,                                    
           stats-&gt;rx_dropped + stats-&gt;rx_missed_errors,         
           stats-&gt;rx_fifo_errors,                               
           stats-&gt;rx_length_errors + stats-&gt;rx_over_errors +    
            stats-&gt;rx_crc_errors + stats-&gt;rx_frame_errors,      
           stats-&gt;rx_compressed, stats-&gt;multicast,              
           stats-&gt;tx_bytes, stats-&gt;tx_packets,                  
           stats-&gt;tx_errors, stats-&gt;tx_dropped,                 
           stats-&gt;tx_fifo_errors, stats-&gt;collisions,            
           stats-&gt;tx_carrier_errors +                           
            stats-&gt;tx_aborted_errors +                          
            stats-&gt;tx_window_errors +                           
            stats-&gt;tx_heartbeat_errors,                         
           stats-&gt;tx_compressed);                               
}
</code></pre><!-- raw HTML omitted -->
<h3 id="memory">Memory</h3>
<!-- raw HTML omitted -->
<table>
<thead>
<tr>
<th></th>
<th></th>
</tr>
</thead>
<tbody>
<tr>
<td><strong>Command</strong></td>
<td><code>$ COMMAND HERE</code></td>
</tr>
<tr>
<td><strong>Description</strong></td>
<td>Check huge pages stats, read the needed stat using cat for the files in the below directory</td>
</tr>
<tr>
<td><strong>Output Sample</strong></td>
<td></td>
</tr>
</tbody>
</table>
<pre tabindex="0"><code># tree /sys/kernel/mm/hugepages
/sys/kernel/mm/hugepages
└── hugepages-2048kB                &lt;&lt;&lt;&lt;&lt;&lt;&lt;&lt;&lt;&lt;&lt;&lt; Directory containing 2MB huge pages, there can be 10G ones too
    ├── free_hugepages              &lt;&lt;&lt;&lt;&lt;&lt;&lt;&lt;&lt;&lt;&lt;&lt; Unallocated HugePages in the pool
    ├── resv_hugepages              &lt;&lt;&lt;&lt;&lt;&lt;&lt;&lt;&lt;&lt;&lt;&lt; Reserved Huge pages
</code></pre><!-- raw HTML omitted -->
<h2 id="network">Network</h2>
<h3 id="ethtool-nic-info">ethtool (NIC Info)</h3>
<!-- raw HTML omitted -->
<table>
<thead>
<tr>
<th></th>
<th></th>
</tr>
</thead>
<tbody>
<tr>
<td><strong>Command</strong></td>
<td><code>$ ethtool -S INTERFACE_NAME</code></td>
</tr>
<tr>
<td><strong>Description</strong></td>
<td>Check the driver of the NIC interface</td>
</tr>
<tr>
<td><strong>Output Sample</strong></td>
<td></td>
</tr>
</tbody>
</table>
<pre tabindex="0"><code># ethtool -i ens192
driver: vmxnet3
version: 1.7.0.0-k-NAPI
firmware-version: 
expansion-rom-version: 
bus-info: 0000:0b:00.0
</code></pre><!-- raw HTML omitted -->
<!-- raw HTML omitted -->
<table>
<thead>
<tr>
<th></th>
<th></th>
</tr>
</thead>
<tbody>
<tr>
<td><strong>Command</strong></td>
<td><code>$ ethtool -S INTERFACE_NAME</code></td>
</tr>
<tr>
<td><strong>Description</strong></td>
<td>Check NIC&rsquo;s Rx and Tx buffers counters including drops</td>
</tr>
<tr>
<td><strong>Output Sample</strong></td>
<td></td>
</tr>
</tbody>
</table>
<pre tabindex="0"><code># ethtool -S ens192
NIC statistics:
     Tx Queue#: 0
       TSO pkts tx: 0
       TSO bytes tx: 0
       ucast pkts tx: 7114
       ucast bytes tx: 534641
       mcast pkts tx: 0
       mcast bytes tx: 0
       bcast pkts tx: 0
       bcast bytes tx: 0
       pkts tx err: 0
       pkts tx discard: 0
       drv dropped tx total: 0
          too many frags: 0
          giant hdr: 0
          hdr err: 0
          tso: 0
       ring full: 0
       pkts linearized: 0
       hdr cloned: 0
       giant hdr: 0
     Rx Queue#: 0
       LRO pkts rx: 0
       LRO byte rx: 0
       ucast pkts rx: 440
       ucast bytes rx: 33973
       mcast pkts rx: 0
       mcast bytes rx: 0
       bcast pkts rx: 45
       bcast bytes rx: 5768
       pkts rx OOB: 0
       pkts rx err: 0
       drv dropped rx total: 0
          err: 0
          fcs: 0
       rx buf alloc fail: 0
</code></pre><!-- raw HTML omitted -->
<!-- raw HTML omitted -->
<table>
<thead>
<tr>
<th></th>
<th></th>
</tr>
</thead>
<tbody>
<tr>
<td><strong>Command</strong></td>
<td><code>$ ethtool -g INTERFACE_NAME</code></td>
</tr>
<tr>
<td><strong>Description</strong></td>
<td>Check NIC Ring buffer size, the max is the <em>Pre-set</em> values, the actually configured is the <em>Current</em></td>
</tr>
<tr>
<td><strong>Output Sample</strong></td>
<td></td>
</tr>
</tbody>
</table>
<pre tabindex="0"><code># ethtool -g ens192 
Ring parameters for ens192:
Pre-set maximums:
RX:             4096
RX Mini:        2048
RX Jumbo:       4096
TX:             4096
Current hardware settings:
RX:             1024
RX Mini:        128
RX Jumbo:       512
TX:             512
</code></pre><!-- raw HTML omitted -->
<!-- raw HTML omitted -->
<table>
<thead>
<tr>
<th></th>
<th></th>
</tr>
</thead>
<tbody>
<tr>
<td><strong>Command</strong></td>
<td><code>$ COMMAND HERE</code></td>
</tr>
<tr>
<td><strong>Description</strong></td>
<td>COMMAND DESCRIPTION</td>
</tr>
<tr>
<td><strong>Output Sample</strong></td>
<td></td>
</tr>
</tbody>
</table>
<pre tabindex="0"><code>CODE BLOCK
</code></pre><!-- raw HTML omitted -->

    </div>
    <div class="post-footer">
      
    </div>
  </article>

    </main>
  </body>
</html>
